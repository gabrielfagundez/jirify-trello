<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Site Monitor Options</title>
        <link rel="stylesheet" type="text/css" href="bootstrap.css" />
        <script src="constants.js" type="text/javascript"></script>
        <script src="jquery-1.7.0.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            jQuery(function($){
                $('#save-button').click(function(){
                    localStorage['url'] = $('input[name=url]').val();
                    localStorage['refresh-time'] = $('input[name=refresh-time]').val();
                    localStorage['timeout'] = $('input[name=timeout]').val();
                    $('#status').show();
                    chrome.extension.getBackgroundPage().init();
                    return false;
                });

                $('#reset-button').click(function(){
                    restore_options()
                    return false;
                });

                var restore_options = function(){
                    $('input[name=url]').val(localStorage['url'] || URL);
                    $('input[name=refresh-time]').val(localStorage['refresh-time'] || REFRESH_TIME);
                    $('input[name=timeout]').val(localStorage['timeout'] || TIMEOUT);
                };

                restore_options();
            });
        </script>
    </head>
    <body>
        <div class="container">
            <div class="page-header">
                <h1>Site Monitor Options</h1>
            </div>
            <div class="row">
                <div class="span16">
                    <div id="status" class="alert-message block-message success" style="display: none">Options saved</div>
                    <form>
                        <fieldset>
                            <div class="clearfix">
                                <label for="url">URL</label>
                                <div class="input">
                                    <input id="url" class="xlarge" name="url" size="30" type="text">
                                </div>
                            </div>
                            <div class="clearfix">
                                <label for="refresh-time">Refresh every(sec.)</label>
                                <div class="input">
                                    <input id="refresh-time" name="refresh-time" size="10" type="text">
                                </div>
                            </div>
                            <div class="clearfix">
                                <label for="timeout">Request timeout(sec.)</label>
                                <div class="input">
                                    <input id="timeout" name="timeout" size="10" type="text">
                                </div>
                            </div>                    
                            <div class="actions">
                                <button id="save-button" class="btn small primary">Save</button>
                                <button id="reset-button" class="btn small">Cancel</button>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div><!-- /row -->
        </div>
    </body>
</html>